<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Imagen con video adaptado (autoplay)</title>
<style>
  :root{ --bg:#ffffff; --fg:#111827; --stroke:#e5e7eb; }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial,sans-serif;
    background:var(--bg); color:var(--fg);
  }
  .wrap{max-width:1100px; margin:0 auto; padding:20px;}

  .card{
    padding:12px; background:#fff; border:1px solid var(--stroke);
    border-radius:16px; box-shadow:0 4px 14px rgba(0,0,0,.06);
  }
  .frame{
    position:relative; width:100%; border-radius:14px; overflow:hidden; background:#fff;
  }
  .frame img{ width:100%; height:auto; display:block; }

  /* Video mini overlay (pequeño) arriba-derecha dentro de la imagen */
  .pip{
    position:absolute; top:12px; right:12px;
    width:min(8%, 50%);     /* ⬅️ tamaño pequeño */
    min-width:10px;           /* ⬅️ mínimo aún pequeño */
    aspect-ratio:16/9;
    border-radius:10px; overflow:hidden;
    border:2px solid #ffffff;
    box-shadow:0 4px 10px rgba(0,0,0,.15);
    background:#000; z-index:2;
  }
  .pip video{
    width:100%; height:100%; display:block;
    object-fit:contain;        /* ⬅️ se ve completo (sin recorte) */
    background:#000;
  }

  /* Botón de sonido (opcional) */
  .sound-btn{
    position:absolute; right:10px; bottom:10px; z-index:3;
    appearance:none; border:none; background:rgba(0,0,0,.45); color:#fff;
    padding:7px 10px; border-radius:999px; font-weight:700; cursor:pointer; font-size:12px;
  }
  .sound-btn:hover{ background:rgba(0,0,0,.65); }

  /* Responsive: también pequeño en móvil */
  @media (max-width:600px){
    .pip{ width:30%; min-width:100px; }  /* ⬅️ ajusta si lo quieres aún más chico */
  }
</style>

</head>
<body>
  <div class="wrap">
    <h1 style="font-size:clamp(18px,2.8vw,26px); margin:0 0 12px;">Video mini (autoplay) adaptado dentro de la imagen</h1>

    <section class="card">
      <div class="frame" id="frame">
        <!-- IMAGEN PRINCIPAL -->
        <img src="imagen11.jpeg" alt="Diseño del circuito electrónico" />

        <!-- VIDEO MINI ARRIBA-DERECHA, ADAPTADO A LA CAJA Y AUTOPLAY -->
        <div class="pip" id="pip">
          <video id="mini" autoplay muted loop playsinline preload="auto" title="Explicación en video">
            <source src="video11.mp4" type="video/mp4" />
          </video>
          <button id="sound" class="sound-btn" aria-label="Activar sonido">🔊</button>
        </div>
      </div>
    </section>
  </div>

  <script>
    const mini = document.getElementById('mini');
    const pip  = document.getElementById('pip');
    const soundBtn = document.getElementById('sound');

    // Ajustar la relación de aspecto de la caja al del video para evitar recortes raros
    mini.addEventListener('loadedmetadata', ()=>{
      try{
        const ar = mini.videoWidth / mini.videoHeight; // ancho/alto
        if(ar > 0){
          pip.style.aspectRatio = ar.toFixed(4);
        }
      }catch(e){/* ignore */}
    });

    // Intentar reproducir automáticamente (algunos navegadores requieren interacción; ya está muted)
    mini.play().catch(()=>{/* el navegador lo hará al interactuar */});

    // Permitir activar/desactivar sonido
    soundBtn.addEventListener('click', ()=>{
      mini.muted = !mini.muted;
      soundBtn.textContent = mini.muted ? '🔇' : '🔊';
      // Si estaba en pausa, reanudar
      if(mini.paused){ mini.play().catch(()=>{}); }
    });
  </script>
</body>
</html>
